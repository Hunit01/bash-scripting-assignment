# 🖥️ Bash Scripting Assignment – IA616001

## 👤 Student Information
- **Name:** Hunit
- **Course:** IA616001 – Operating Systems Concepts
- **Docker Container Name:** ubuntu_lab

---

## 📦 Assignment Overview

This assignment is divided into two major tasks:

- **Task 1:** Automate user and group management using a shell script and a CSV file.
- **Task 2:** Automate backup of a user-specified directory using a shell script.

All scripts were created and tested inside a Docker container using only commands and methods taught in class through labs and lecture slides.

---

## 📁 Directory Structure

```
Assignment1/
├── task1/
│   ├── user_setup.sh         # Script to create users, groups, folders, and symlinks
│   ├── user.csv              # Sample user data in CSV format
│   └── user_script.log       # Log file generated by user_setup.sh
├── task2/
│   └── backup_script.sh      # Script to compress and back up folders
│   └── backups/              # Destination for compressed archives
├── README.md                 # Documentation file
```

---

## 📝 Task 1 – User and Group Setup

### 🔍 Description
The script `user_setup.sh` reads from a CSV file and performs the following actions:

- Extracts usernames from emails
- Generates passwords from birthdates (MMYYYY format)
- Creates users (if they do not already exist)
- Creates groups and assigns users
- Creates shared folders for groups
- Assigns ownership and permissions (770)
- Adds symbolic links in users' home directories
- Logs all activity in `user_script.log`

### 📂 CSV Format

```
email,birthdate,groups,sharedFolder
tony.stark@ironman.us,1995-02-25,avengers;doom,/endgameData
steve.rogers@shield.gov,1918-07-04,avengers,/avengersHQ
bruce.banner@hulk.com,1969-12-18,gamma;scientists,/labs
```

### ▶️ Run Instructions

```bash
cd /Assignment1/task1
chmod +x user_setup.sh
./user_setup.sh
```

---

## 🧪 Task 1 – Verification Commands

```bash
id tony.stark
id steve.rogers
id bruce.banner
getent group avengers
getent group doom
getent group gamma
getent group scientists
ls -l /home/tony.stark/shared
cat /Assignment1/task1/user_script.log
```

---

## 📝 Task 2 – Backup Script

### 🔍 Description

The script `backup_script.sh` allows the user to back up any directory of their choice by:

- Prompting for a source directory
- Prompting for a destination directory
- Creating a compressed `.tar.gz` archive
- Moving the archive to the backup location
- Logging the backup operation in `/var/log/backup_script.log`

### ▶️ Run Instructions

```bash
cd /Assignment1/task2
chmod +x backup_script.sh
./backup_script.sh
```

### 📦 Output

A compressed backup file like:

```
tony.stark_backup_20250529_183046.tar.gz
```

---

## 🧪 Task 2 – Verification Commands

```bash
ls -lh /Assignment1/task2/backups
tar -tzf /Assignment1/task2/backups/*.tar.gz
cat /var/log/backup_script.log
```

---

## 🐙 GitHub Repository

https://github.com/Hunit01/bash-scripting-assignment

---

## ✅ Notes

- All scripts strictly follow lab and lecture content.
- No external tools, packages, or libraries were used.
- All tasks were executed and tested inside the Docker container.

---
